<div class="login-bg">
  <div class="login-center">
    <div class="login-card animate-in">
      <div class="login-card__header">
        <svg class="login-logo-svg" width="88" height="88" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="Logo universidad">
          <defs>
            <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#3b82f6"/>
              <stop offset="100%" stop-color="#1d4ed8"/>
            </linearGradient>
          </defs>
          <rect x="4" y="16" width="56" height="36" rx="6" fill="url(#g)"/>
          <polygon points="8,16 56,16 32,6" fill="#1e40af"/>
          <rect x="14" y="26" width="36" height="4" fill="#fff"/>
          <rect x="14" y="34" width="36" height="4" fill="#e0e7ff"/>
        </svg>
        <h1 class="login-title">Gestión Interna TFG</h1>
        <p class="login-subtitle">{{ 'login.welcome' | translate }}</p>
      </div>

      <!-- Tabs -->
      <div class="login-tabs">
        <button 
          class="tab-button" 
          [class.active]="activeTab() === 'profesorado'"
          (click)="setActiveTab('profesorado')">
          <span class="material-icons">school</span>
          {{ 'login.profesorado' | translate }}
        </button>
        <button 
          class="tab-button" 
          [class.active]="activeTab() === 'administracion'"
          (click)="setActiveTab('administracion')">
          <span class="material-icons">admin_panel_settings</span>
          {{ 'login.administracion' | translate }}
        </button>
      </div>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage()">
        <span class="material-icons">error</span>
        {{ errorMessage() }}
      </div>

      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Profesorado Tab -->
        <div *ngIf="activeTab() === 'profesorado'" class="tab-panel">
          <p class="tab-description">{{ 'login.profesoradoDesc' | translate }}</p>
          
          <form [formGroup]="profesoradoForm" (ngSubmit)="onProfesoradoSubmit()">
            <div class="form-control">
              <label class="form-label" for="profesorado-email">
                <span class="material-icons">email</span>
                {{ 'login.profesoradoEmail' | translate }}
              </label>
              <input 
                id="profesorado-email" 
                type="email" 
                formControlName="email" 
                placeholder="{{ 'login.profesoradoEmail' | translate }}" />
              <div class="form-error" *ngIf="getProfesoradoFieldError('email')">
                <span class="material-icons">error</span>
                {{ getProfesoradoFieldError('email') | translate }}
              </div>
            </div>

            <button class="login-btn" type="submit" [disabled]="isLoading()">
              <span class="material-icons" *ngIf="!isLoading()">login</span>
              <span *ngIf="isLoading()">{{ 'common.loading' | translate }}</span>
              <span *ngIf="!isLoading()">{{ 'login.loginButton' | translate }}</span>
            </button>
          </form>
        </div>

        <!-- Administración Tab -->
        <div *ngIf="activeTab() === 'administracion'" class="tab-panel">
          <p class="tab-description">{{ 'login.administracionDesc' | translate }}</p>
          
          <form [formGroup]="administracionForm" (ngSubmit)="onAdministracionSubmit()">
            <div class="form-control">
              <label class="form-label" for="admin-email">
                <span class="material-icons">email</span>
                {{ 'login.administracionEmail' | translate }}
              </label>
              <input 
                id="admin-email" 
                type="email" 
                formControlName="email" 
                placeholder="{{ 'login.administracionEmail' | translate }}" />
              <div class="form-error" *ngIf="getAdministracionFieldError('email')">
                <span class="material-icons">error</span>
                {{ getAdministracionFieldError('email') | translate }}
              </div>
            </div>

            <div class="form-control">
              <label class="form-label" for="admin-password">
                <span class="material-icons">lock</span>
                {{ 'login.administracionPassword' | translate }}
              </label>
              <input 
                id="admin-password" 
                type="password" 
                formControlName="password" 
                placeholder="{{ 'login.administracionPassword' | translate }}" />
              <div class="form-error" *ngIf="getAdministracionFieldError('password')">
                <span class="material-icons">error</span>
                {{ getAdministracionFieldError('password') | translate }}
              </div>
            </div>

            <label class="remember">
              <input type="checkbox" formControlName="rememberMe" />
              <span>{{ 'login.rememberMe' | translate }}</span>
            </label>

            <button class="login-btn" type="submit" [disabled]="isLoading()">
              <span class="material-icons" *ngIf="!isLoading()">login</span>
              <span *ngIf="isLoading()">{{ 'common.loading' | translate }}</span>
              <span *ngIf="!isLoading()">{{ 'login.loginButton' | translate }}</span>
            </button>

            <div class="login-help">
              <a href="#">{{ 'login.forgotPassword' | translate }}</a>
            </div>
          </form>
        </div>
      </div>

    </div>
  </div>
</div>